<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project – Exploratory Data Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/gu-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../report/report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-details" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical details</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-details">    
        <li>
    <a class="dropdown-item" href="../../technical-details/data-collection/main.html">
 <span class="dropdown-text">Data-collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-cleaning/main.html">
 <span class="dropdown-text">Data-cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/eda/main.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/unsupervised-learning/main.html">
 <span class="dropdown-text">Unsupervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/supervised-learning/main.html">
 <span class="dropdown-text">Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/progress-log.html">
 <span class="dropdown-text">Progress Log</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/llm-usage-log.html">
 <span class="dropdown-text">LLM usage Log</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-and-motivation" id="toc-introduction-and-motivation" class="nav-link active" data-scroll-target="#introduction-and-motivation">Introduction and Motivation:</a></li>
  <li><a href="#overview-of-methods" id="toc-overview-of-methods" class="nav-link" data-scroll-target="#overview-of-methods">Overview of Methods</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">Code</a>
  <ul class="collapse">
  <li><a href="#import-cleaned-data" id="toc-import-cleaned-data" class="nav-link" data-scroll-target="#import-cleaned-data">Import cleaned data</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a>
  <ul class="collapse">
  <li><a href="#bivariate-analysis" id="toc-bivariate-analysis" class="nav-link" data-scroll-target="#bivariate-analysis"><strong>Bivariate Analysis</strong></a></li>
  <li><a href="#categorical-variables" id="toc-categorical-variables" class="nav-link" data-scroll-target="#categorical-variables"><strong>Categorical Variables</strong>:</a></li>
  <li><a href="#multivariate-analysis" id="toc-multivariate-analysis" class="nav-link" data-scroll-target="#multivariate-analysis"><strong>Multivariate Analysis</strong>:</a></li>
  <li><a href="#data-distribution-and-normalization" id="toc-data-distribution-and-normalization" class="nav-link" data-scroll-target="#data-distribution-and-normalization"><strong>Data Distribution and Normalization:</strong></a></li>
  <li><a href="#statistical-insights" id="toc-statistical-insights" class="nav-link" data-scroll-target="#statistical-insights"><strong>Statistical Insights</strong>:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusions-and-next-steps" id="toc-conclusions-and-next-steps" class="nav-link" data-scroll-target="#conclusions-and-next-steps">Conclusions and Next Steps:</a>
  <ul class="collapse">
  <li><a href="#technical-implications" id="toc-technical-implications" class="nav-link" data-scroll-target="#technical-implications"><strong>Technical Implications</strong>:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory Data Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- After digesting the instructions, you can delete this cell, these are assignment instructions and do not need to be included in your final submission.  -->
<!-- {{< include instructions.qmd >}}  -->
<section id="introduction-and-motivation" class="level1">
<h1>Introduction and Motivation:</h1>
<p>The primary objective of this Exploratory Data Analysis (EDA) is to explore and identify the key factors that influence YouTube audience engagement. Through a comprehensive analysis, we aim to uncover patterns and trends that drive audience behavior on the platform.</p>
</section>
<section id="overview-of-methods" class="level1">
<h1>Overview of Methods</h1>
<p>This EDA will include several types of analysis:</p>
<ul>
<li><strong>Bivariate Analysis</strong>: Examining two features to better understand the distribution and characteristics of key variables:
<ul>
<li>Analyzing the distribution of caption values by video popularity(high or low)</li>
<li>Analyzing the distribution of video duration by video popularity(high or low)</li>
<li>Identifying the top 15 individual topic categories.</li>
<li>Identify the top 15 individual topic categories of popular videos.</li>
</ul></li>
<li><strong>Multivariate Analysis</strong>: Exploring relationships and interactions between different features, such as the correlation between likes and comments or the effect of video category on engagement:
<ul>
<li>Find distribution of video duration by video popularity</li>
<li>Using a correlation matrix to examine numerical variables.</li>
<li>Utilizing crosstabs to analyze categorical variables.</li>
<li>Investigating the relationship between like count and view count.</li>
</ul></li>
<li><strong>Data Distribution and Normalization</strong>: Evaluating the distribution of key variables and assessing their suitability for further analysis:
<ul>
<li>Analyzing the skewness and kurtosis of view counts.</li>
<li>Analyzing the skewness and kurtosis of like counts.</li>
</ul></li>
<li><strong>Statistical Testing</strong>: Conduct basic statistical tests:
<ul>
<li>Conducting t-tests and chi-square tests to explore potential relationships between variables.</li>
</ul></li>
</ul>
<p>The insights derived from this analysis will provide a deeper understanding of the factors contributing to audience engagement, forming a solid foundation for future predictive modeling</p>
</section>
<section id="code" class="level1">
<h1>Code</h1>
<section id="import-cleaned-data" class="level2">
<h2 class="anchored" data-anchor-id="import-cleaned-data">Import cleaned data</h2>
<div id="cell-4" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"../../data/processed-data/cleaned_data.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> data.drop(columns<span class="op">=</span>[<span class="st">"Unnamed: 0"</span>]) <span class="cf">if</span> <span class="st">"Unnamed: 0"</span> <span class="kw">in</span> data.columns <span class="cf">else</span> data <span class="co"># remove the unnamed column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display basic information about the dataset</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Dataset Info:"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.info())</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">First Few Rows:"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>display(data.head())</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Basic Statistics:"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>display(data.describe())</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing values</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Missing Values:"</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dataset Info:
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2208 entries, 0 to 2207
Data columns (total 16 columns):
 #   Column                  Non-Null Count  Dtype  
---  ------                  --------------  -----  
 0   video_id                2208 non-null   object 
 1   channelTitle            2208 non-null   object 
 2   title                   2208 non-null   object 
 3   tags                    1156 non-null   object 
 4   publishedAt             2208 non-null   object 
 5   viewCount               2208 non-null   float64
 6   likeCount               2153 non-null   float64
 7   dislikeCount            0 non-null      float64
 8   favoriteCount           2208 non-null   int64  
 9   commentCount            2184 non-null   float64
 10  duration                2208 non-null   int64  
 11  definition              2208 non-null   object 
 12  caption                 2208 non-null   bool   
 13  topicCategories         2202 non-null   object 
 14  popularity              2208 non-null   object 
 15  popularity_multi_class  2208 non-null   object 
dtypes: bool(1), float64(4), int64(2), object(9)
memory usage: 261.0+ KB
None

First Few Rows:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">video_id</th>
<th data-quarto-table-cell-role="th">channelTitle</th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">tags</th>
<th data-quarto-table-cell-role="th">publishedAt</th>
<th data-quarto-table-cell-role="th">viewCount</th>
<th data-quarto-table-cell-role="th">likeCount</th>
<th data-quarto-table-cell-role="th">dislikeCount</th>
<th data-quarto-table-cell-role="th">favoriteCount</th>
<th data-quarto-table-cell-role="th">commentCount</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">definition</th>
<th data-quarto-table-cell-role="th">caption</th>
<th data-quarto-table-cell-role="th">topicCategories</th>
<th data-quarto-table-cell-role="th">popularity</th>
<th data-quarto-table-cell-role="th">popularity_multi_class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>b6FTKe-u8XI</td>
<td>Richard Restatement</td>
<td>Can I get scout badgetherookie viralvideo fory...</td>
<td>NaN</td>
<td>2024-11-20T22:42:00Z</td>
<td>0.049597</td>
<td>0.139295</td>
<td>NaN</td>
<td>0</td>
<td>0.009236</td>
<td>59</td>
<td>hd</td>
<td>False</td>
<td>Entertainment Film</td>
<td>high</td>
<td>high</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>W_19sjpQttw</td>
<td>Succesful Celebrity</td>
<td>Bill Nye The Science Guy Shows Kai Cenat A Sci...</td>
<td>kai cenat kai cenat imkaicenat amp kai cenat l...</td>
<td>2024-11-17T17:01:47Z</td>
<td>0.082768</td>
<td>0.193623</td>
<td>NaN</td>
<td>0</td>
<td>0.033605</td>
<td>26</td>
<td>hd</td>
<td>False</td>
<td>Entertainment Film Television_program</td>
<td>high</td>
<td>high</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>udVz8GN_DP0</td>
<td>Kieran Ta</td>
<td>Youre not gonna hit me again are you supernatu...</td>
<td>NaN</td>
<td>2024-11-18T03:13:34Z</td>
<td>0.045601</td>
<td>0.105196</td>
<td>NaN</td>
<td>0</td>
<td>0.007719</td>
<td>58</td>
<td>hd</td>
<td>False</td>
<td>Entertainment Film Television_program</td>
<td>high</td>
<td>high</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>iOecn1gSBZY</td>
<td>M2M Heart</td>
<td>Open the cash with moneyThis is funniest robbe...</td>
<td>NaN</td>
<td>2024-11-16T13:00:53Z</td>
<td>0.070301</td>
<td>0.179141</td>
<td>NaN</td>
<td>0</td>
<td>0.013535</td>
<td>59</td>
<td>hd</td>
<td>False</td>
<td>Entertainment Film</td>
<td>high</td>
<td>high</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>u1IuChCXplQ</td>
<td>9-1-1 house</td>
<td>He realized that they did not stop death</td>
<td>NaN</td>
<td>2024-11-20T19:52:08Z</td>
<td>0.032618</td>
<td>0.069746</td>
<td>NaN</td>
<td>0</td>
<td>0.007707</td>
<td>60</td>
<td>hd</td>
<td>False</td>
<td>Entertainment Film</td>
<td>high</td>
<td>high</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Basic Statistics:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">viewCount</th>
<th data-quarto-table-cell-role="th">likeCount</th>
<th data-quarto-table-cell-role="th">dislikeCount</th>
<th data-quarto-table-cell-role="th">favoriteCount</th>
<th data-quarto-table-cell-role="th">commentCount</th>
<th data-quarto-table-cell-role="th">duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>2208.000000</td>
<td>2153.000000</td>
<td>0.0</td>
<td>2208.0</td>
<td>2184.000000</td>
<td>2208.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>0.017055</td>
<td>0.026817</td>
<td>NaN</td>
<td>0.0</td>
<td>0.014774</td>
<td>929.403080</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.041650</td>
<td>0.057310</td>
<td>NaN</td>
<td>0.0</td>
<td>0.044780</td>
<td>2790.428613</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>NaN</td>
<td>0.0</td>
<td>0.000000</td>
<td>10.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>0.001437</td>
<td>0.001700</td>
<td>NaN</td>
<td>0.0</td>
<td>0.002301</td>
<td>34.750000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>0.005317</td>
<td>0.006941</td>
<td>NaN</td>
<td>0.0</td>
<td>0.005831</td>
<td>60.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>0.017203</td>
<td>0.028407</td>
<td>NaN</td>
<td>0.0</td>
<td>0.014094</td>
<td>921.500000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>1.000000</td>
<td>1.000000</td>
<td>NaN</td>
<td>0.0</td>
<td>0.999957</td>
<td>42901.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Missing Values:
video_id                     0
channelTitle                 0
title                        0
tags                      1052
publishedAt                  0
viewCount                    0
likeCount                   55
dislikeCount              2208
favoriteCount                0
commentCount                24
duration                     0
definition                   0
caption                      0
topicCategories              6
popularity                   0
popularity_multi_class       0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA</h2>
<section id="bivariate-analysis" class="level3">
<h3 class="anchored" data-anchor-id="bivariate-analysis"><strong>Bivariate Analysis</strong></h3>
<ul>
<li><strong>Numerical Variables</strong>:
<ul>
<li>Provide summary statistics</li>
<li>Analyze distribution of two features : <strong><em>Histogrm of Caption Inclusion by Popularity</em></strong></li>
</ul></li>
</ul>
<div id="cell-9" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>grouped_data <span class="op">=</span> data.groupby([<span class="st">'caption'</span>, <span class="st">'popularity'</span>]).size().unstack(fill_value<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot stacked bar chart</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>grouped_data.plot(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">'bar'</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    stacked<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>),</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    colormap<span class="op">=</span><span class="st">'viridis'</span>,  <span class="co"># Choose a colormap for encoding</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    alpha<span class="op">=</span><span class="fl">0.7</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Chart details</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Stacked Bar Chart of Caption Values by Popularity"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Caption Values"</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Popularity'</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">'y'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From this plot, we can see that most of youtube videos do not include captions for audiences. This plot is a stacked bar chart that represents the frequency of caption values categorized by popularity (“high” and “low”, high popularity means the video has more than 6000000 views). The bars are segmented by the popularity levels, with distinct colors assigned to each category (“high” in purple and “low” in yellow). This chart effectively highlights the distribution of popularity levels across different caption values, and it suggest that embedding caption or not would not lead to increasing popularity of videos.</p>
<ul>
<li><strong>Numerical Variables</strong>:
<ul>
<li>Analyze distribution of two features : <strong><em>Scatter Plot of Video Duration by Popularity</em></strong></li>
</ul></li>
</ul>
<div id="cell-12" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot for duration vs popularity</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>sns.stripplot(x<span class="op">=</span><span class="st">'popularity'</span>, y<span class="op">=</span><span class="st">'duration'</span>, data<span class="op">=</span>data, jitter<span class="op">=</span><span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, palette<span class="op">=</span><span class="st">'Set2'</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Scatter Plot of Video Duration by Popularity"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Popularity"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Video Duration (seconds)"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/0k/58z97my108j9p_yv9d2xvzxr0000gn/T/ipykernel_25476/1976354669.py:6: FutureWarning: Passing `palette` without assigning `hue` is deprecated.
  sns.stripplot(x='popularity', y='duration', data=data, jitter=True, alpha=0.6, palette='Set2')
/opt/anaconda3/lib/python3.11/site-packages/seaborn/_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context('mode.use_inf_as_na', True):
/opt/anaconda3/lib/python3.11/site-packages/seaborn/_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context('mode.use_inf_as_na', True):</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-6-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This scatter plot visualizes the relationship between video duration (in seconds) and popularity levels (“high” and “low”). Videos with “low” popularity show a wider range of durations, and even with very large outliers representing very long videos. In contrast, “high” popularity videos tend to cluster at shorter durations, suggesting that creating and watching shorter videos is a social trend. This trend could indicate that audiences prefer concise content, or it might reflect platform-specific optimization for shorter videos.</p>
</section>
<section id="categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="categorical-variables"><strong>Categorical Variables</strong>:</h3>
<ul>
<li>Present frequency counts and visualize distributions: <strong><em>Topic categories pie chart</em></strong></li>
</ul>
<div id="cell-15" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'topicCategories'</span>] <span class="op">=</span> data[<span class="st">'topicCategories'</span>].fillna(<span class="st">''</span>)  <span class="co"># Handle NaN values</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>all_categories <span class="op">=</span> data[<span class="st">'topicCategories'</span>].<span class="bu">str</span>.split(<span class="st">' '</span>).explode()  <span class="co"># Split and flatten</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Count frequency of each category</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>category_counts <span class="op">=</span> all_categories.value_counts()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>top_20_categories <span class="op">=</span> category_counts.head(<span class="dv">15</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>plt.pie(</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    top_20_categories.values, </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span><span class="va">None</span>, </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    startangle<span class="op">=</span><span class="dv">90</span>, </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    colors<span class="op">=</span>plt.cm.Pastel1.colors</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>label<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">)"</span> <span class="cf">for</span> label, value <span class="kw">in</span> <span class="bu">zip</span>(top_20_categories.index, top_20_categories.values)]</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>plt.legend(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    labels,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    loc<span class="op">=</span><span class="st">"center left"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="fl">0.5</span>),  <span class="co"># Adjust position of the legend</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top Categories"</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Pie Chart: Top 15 Individual Topic Categories"</span>)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Most of the videos we randomly selected from YouTube globally fall under the topics of Entertainment, with Video Game and Video Game Culture videos ranking as the top two categories. Among the top 15 topics selected for our analysis, we found that five of them are related to gaming. This suggests that there is a significant audience interest in game-related content on YouTube, highlighting the popularity of entertainment and gaming among viewers.</p>
<div id="cell-17" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>popular_data <span class="op">=</span> data[data[<span class="st">"popularity"</span>]<span class="op">==</span><span class="st">"high"</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>popular_data[<span class="st">'topicCategories'</span>] <span class="op">=</span> popular_data[<span class="st">'topicCategories'</span>].fillna(<span class="st">''</span>)  <span class="co"># Handle NaN values</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>all_categories <span class="op">=</span> popular_data[<span class="st">'topicCategories'</span>].<span class="bu">str</span>.split(<span class="st">' '</span>).explode()  <span class="co"># Split and flatten</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Count frequency of each category</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>category_counts <span class="op">=</span> all_categories.value_counts()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>top_20_categories <span class="op">=</span> category_counts.head(<span class="dv">15</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">10</span>))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>plt.pie(</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    top_20_categories.values, </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span><span class="va">None</span>, </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    startangle<span class="op">=</span><span class="dv">180</span>, </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    colors<span class="op">=</span>plt.cm.Pastel1.colors</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>label<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">)"</span> <span class="cf">for</span> label, value <span class="kw">in</span> <span class="bu">zip</span>(top_20_categories.index, top_20_categories.values)]</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>plt.legend(</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    labels,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    loc<span class="op">=</span><span class="st">"center left"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="fl">0.5</span>),  <span class="co"># Adjust position of the legend</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top Categories"</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Pie Chart: Top 15 Individual Topic Categories"</span>)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/0k/58z97my108j9p_yv9d2xvzxr0000gn/T/ipykernel_25476/1985519554.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  popular_data['topicCategories'] = popular_data['topicCategories'].fillna('')  # Handle NaN values</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-8-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This pie chart visualize the distribution of the top 15 individual topic categories from the dataset, highlighting their respective proportions. The “Entertainment” category dominates with 30%, followed by “Film” (15%), “Sport” (13%), and “Vehicle” (10%). The remaining categories, including “Lifestyle (Sociology)” (8%), “Television Program” (3.6%), and others, represent smaller shares of the dataset. This visualization effectively emphasizes the prevalence of entertainment-related content while showing the diversity of other topics.</p>
<div id="cell-19" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter high-popularity videos and calculate duration stats per topic</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>pivot_melted <span class="op">=</span> (</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    data[data[<span class="st">"popularity"</span>] <span class="op">==</span> <span class="st">"high"</span>]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">'topicCategories'</span>)[<span class="st">'duration'</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    .agg([<span class="st">'min'</span>, <span class="st">'max'</span>, <span class="st">'count'</span>])</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    .sort_values(by<span class="op">=</span><span class="st">'count'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'topicCategories'</span>: <span class="st">'Topic'</span>, <span class="st">'min'</span>: <span class="st">'Min Duration'</span>, <span class="st">'max'</span>: <span class="st">'Max Duration'</span>, <span class="st">'count'</span>: <span class="st">'Video Count'</span>})</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Split topics into individual words and explode them into rows</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>pivot_melted <span class="op">=</span> (</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    pivot_melted</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    .assign(Melted_Topic<span class="op">=</span>pivot_melted[<span class="st">'Topic'</span>].<span class="bu">str</span>.split(<span class="st">' '</span>))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    .explode(<span class="st">'Melted_Topic'</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">'Topic'</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'Melted_Topic'</span>: <span class="st">'Topic'</span>})</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine duplicate topics and aggregate statistics</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>pivot_melted <span class="op">=</span> (</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    pivot_melted</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">'Topic'</span>, as_index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    .agg({</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Min Duration'</span>: <span class="st">'min'</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Max Duration'</span>: <span class="st">'max'</span>,</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Video Count'</span>: <span class="st">'sum'</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    .sort_values(by<span class="op">=</span><span class="st">'Video Count'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the final result</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>display(pivot_melted.head(<span class="dv">15</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Topic</th>
<th data-quarto-table-cell-role="th">Min Duration</th>
<th data-quarto-table-cell-role="th">Max Duration</th>
<th data-quarto-table-cell-role="th">Video Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Entertainment</td>
<td>10</td>
<td>175</td>
<td>179</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Film</td>
<td>14</td>
<td>175</td>
<td>90</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Sport</td>
<td>10</td>
<td>1452</td>
<td>75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>Vehicle</td>
<td>10</td>
<td>61</td>
<td>61</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Lifestyle_(sociology)</td>
<td>10</td>
<td>1521</td>
<td>49</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Television_program</td>
<td>17</td>
<td>42896</td>
<td>21</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Technology</td>
<td>14</td>
<td>1521</td>
<td>21</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Humour</td>
<td>10</td>
<td>175</td>
<td>19</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Pop_music</td>
<td>13</td>
<td>302</td>
<td>14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Association_football</td>
<td>10</td>
<td>840</td>
<td>14</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Boxing</td>
<td>10</td>
<td>59</td>
<td>11</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Music</td>
<td>61</td>
<td>302</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Basketball</td>
<td>14</td>
<td>1452</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>Video_game_culture</td>
<td>17</td>
<td>151</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Society</td>
<td>30</td>
<td>42896</td>
<td>6</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The output of this code provides a summarized table of YouTube video topics with high popularity.</p>
<ul>
<li>Topic Names: Distinct keywords extracted from the original topic categories (e.g., “Entertainment,” “Film”).</li>
<li>Duration Range: Minimum and maximum video durations for each topic.</li>
<li>Video Count: The total number of videos in each topic.</li>
</ul>
<p>The results are sorted by video count in descending order, highlighting the most frequent topics and their duration patterns. This helps identify dominant video themes and the typical duration ranges associated with popular videos.</p>
</section>
<section id="multivariate-analysis" class="level3">
<h3 class="anchored" data-anchor-id="multivariate-analysis"><strong>Multivariate Analysis</strong>:</h3>
<section id="correlation-analysis" class="level4">
<h4 class="anchored" data-anchor-id="correlation-analysis"><strong>Correlation Analysis</strong>:</h4>
<ul>
<li>Analyze relationships between numerical variables using Pearson Correlation matrix and Spearman Correlation matrix</li>
<li>Analyze relationships between numerical variables using a correlation matrix: <strong><em>Correlation Heatmap plot</em></strong></li>
</ul>
<div id="cell-23" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"SPEARMAN CORRELATION MATRIX:"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>display(data.corr(method<span class="op">=</span><span class="st">'spearman'</span>,numeric_only<span class="op">=</span><span class="va">True</span>).fillna(<span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>----------------------
SPEARMAN CORRELATION MATRIX:
----------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">viewCount</th>
<th data-quarto-table-cell-role="th">likeCount</th>
<th data-quarto-table-cell-role="th">dislikeCount</th>
<th data-quarto-table-cell-role="th">favoriteCount</th>
<th data-quarto-table-cell-role="th">commentCount</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">caption</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">viewCount</td>
<td>1.000000</td>
<td>0.933141</td>
<td>0.0</td>
<td>0.0</td>
<td>0.337583</td>
<td>-0.571253</td>
<td>-0.081384</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">likeCount</td>
<td>0.933141</td>
<td>1.000000</td>
<td>0.0</td>
<td>0.0</td>
<td>0.335939</td>
<td>-0.569777</td>
<td>-0.121677</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dislikeCount</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.0</td>
<td>0.0</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">favoriteCount</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.0</td>
<td>0.0</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">commentCount</td>
<td>0.337583</td>
<td>0.335939</td>
<td>0.0</td>
<td>0.0</td>
<td>1.000000</td>
<td>0.090784</td>
<td>0.131055</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">duration</td>
<td>-0.571253</td>
<td>-0.569777</td>
<td>0.0</td>
<td>0.0</td>
<td>0.090784</td>
<td>1.000000</td>
<td>0.168698</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">caption</td>
<td>-0.081384</td>
<td>-0.121677</td>
<td>0.0</td>
<td>0.0</td>
<td>0.131055</td>
<td>0.168698</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>From this top-level visualization of correlation between features, we can see that view counts are highly correlated with like counts; view counts or like counts are not closely correlated with comment counts; view counts and like counts are moderately negatively correlated with duration. The trends suggest that YouTube audiences in general prefer shorter videos than longer ones, and they may not comment on vidoes even they view or like the videos.</p>
<div id="cell-25" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>numerical_features <span class="op">=</span> data[[<span class="st">'viewCount'</span>, <span class="st">'likeCount'</span>, <span class="st">'commentCount'</span>]]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> numerical_features.corr()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>sns.heatmap(correlation_matrix, annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Correlation Heatmap Across Numerical Features'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The heatmap suggest there is a higher correlation between like counts and view counts than the correlation between view counts and comment counts.</p>
</section>
<section id="cross-tabulations" class="level4">
<h4 class="anchored" data-anchor-id="cross-tabulations"><strong>Cross-tabulations</strong>:</h4>
<ul>
<li>For categorical variables, use crosstabs to explore relationships: <strong><em>cross tabulation of video definition(high definition / standard definition) and caption embedding</em></strong></li>
</ul>
<div id="cell-28" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>crosstab_result <span class="op">=</span> pd.crosstab(data[<span class="st">'definition'</span>], data[<span class="st">'caption'</span>])</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(crosstab_result)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(crosstab_result, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>, fmt<span class="op">=</span><span class="st">"d"</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Cross-Tabulation Heatmap"</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Definition"</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Caption"</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>caption     False  True 
definition              
hd           2074    130
sd              3      1</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-12-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The cross-tabulation plot shows most of the videos are in high definition quality and without caption.</p>
</section>
<section id="feature-pairings" class="level4">
<h4 class="anchored" data-anchor-id="feature-pairings"><strong>Feature Pairings</strong>:</h4>
<ul>
<li>Analyze relationships between key variables: <strong><em>Scatter plot of View Counts and Duration</em></strong></li>
</ul>
<div id="cell-31" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(data[<span class="st">'viewCount'</span>], data[<span class="st">'duration'</span>], color<span class="op">=</span><span class="st">'blue'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Scatter Plot of View Count vs. Video Duration'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'View Count'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Video Duration(s)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From the plot, we can observe a negative relationship between video duration and view count. Specifically, videos with shorter durations tend to have higher view counts. This suggests that audiences prefer shorter videos in the current media landscape, possibly due to the ease of consumption and the trend towards quick, engaging content. The high view counts for shorter videos may also reflect a growing trend of continuous viewing, where users are more likely to watch a series of short videos in a single sitting. This trend aligns with the popularity of short-form video platforms (e.g., TikTok, YouTube Shorts), where users tend to engage with bite-sized content in a loop, contributing to higher overall engagement.</p>
</section>
</section>
<section id="data-distribution-and-normalization" class="level3">
<h3 class="anchored" data-anchor-id="data-distribution-and-normalization"><strong>Data Distribution and Normalization:</strong></h3>
<ul>
<li><strong>Skewness and Kurtosis:</strong>:
<ul>
<li>Analyze and discuss the distribution of variables.: <strong><em>Distribution of view counts and like counts</em></strong></li>
</ul></li>
</ul>
<div id="cell-34" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>viewcounts_df <span class="op">=</span> data[[<span class="st">'viewCount'</span>]]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>viewcounts_df <span class="op">=</span> viewcounts_df[viewcounts_df[<span class="st">'viewCount'</span>] <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>plt.hist(viewcounts_df[<span class="st">"viewCount"</span>], bins<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histogram of View Count'</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'View Count (millions)'</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>likecounts_df <span class="op">=</span> data[[<span class="st">'likeCount'</span>]]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>plt.hist(likecounts_df[<span class="st">"likeCount"</span>], bins<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histogram of Like Count'</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Like Count (millions)'</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Interpretation</strong>: The histogram of like counts and view counts are highly right skewed and include very large outliers according to the distributions.</p>
<div id="cell-37" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>skewness <span class="op">=</span> data[<span class="st">'viewCount'</span>].skew()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>kurtosis <span class="op">=</span> data[<span class="st">'viewCount'</span>].kurtosis()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Skewness of view counts: </span><span class="sc">{</span>skewness<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Kurtosis of view counts: </span><span class="sc">{</span>kurtosis<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Skewness of view counts: 10.672893845120713
Kurtosis of view counts: 186.37037135267474</code></pre>
</div>
</div>
<ul>
<li><p>Skewness: The skewness value indicates a strong positive skew. This means the distribution of view counts is heavily right-skewed, with a long tail on the right side. Most of the videos have lower view counts, but there are a few videos with extremely high view counts, pulling the average upward.</p></li>
<li><p>Kurtosis: The kurtosis value is extremely high, suggesting that the distribution has heavy tails and a sharp peak. This indicates that there are many extreme outliers (i.e., videos with exceptionally high view counts) in your data. These outliers significantly affect the overall distribution, making it more “peaked” compared to a normal distribution, which has a kurtosis of 3.</p></li>
</ul>
<div id="cell-39" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>skewness <span class="op">=</span> data[<span class="st">'likeCount'</span>].skew()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>kurtosis <span class="op">=</span> data[<span class="st">'likeCount'</span>].kurtosis()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Skewness of like counts: </span><span class="sc">{</span>skewness<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Kurtosis of like counts: </span><span class="sc">{</span>kurtosis<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Skewness of like counts: 6.4863537512329135
Kurtosis of like counts: 68.364500479544</code></pre>
</div>
</div>
<ul>
<li><p>Both view counts and like counts exhibit positive skewness, meaning there are a few items with very high values. However, view counts are more extremely skewed than like counts, indicating that there are more videos with significantly higher views compared to likes. This suggests that view counts have a wider disparity, with certain videos getting far more views than likes.</p></li>
<li><p>Both features exhibit high kurtosis, indicating heavy tails and outliers. However, the view count distribution is much more peaked and has more extreme outliers than like counts. This means that while both view counts and like counts have some extreme values, the view counts have far more extreme outliers with a sharper peak, whereas the like counts have somewhat fewer but still significant outliers.</p></li>
</ul>
<p>In summary, the kurtosis value and skewness value suggest that although some videso gained high view counts, people just slided through the videos without hitting the like button.</p>
</section>
<section id="statistical-insights" class="level3">
<h3 class="anchored" data-anchor-id="statistical-insights"><strong>Statistical Insights</strong>:</h3>
<p><strong>Hypotheses for Chi-square tests:</strong></p>
<ul>
<li><p>Null Hypothesis (H₀): There is no significant association between the viewCount and likeCount.</p></li>
<li><p>Alternative Hypothesis (H₁): There is a significant association between the viewCount and likeCount.</p></li>
</ul>
<div id="cell-43" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a contingency table</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>contingency_table <span class="op">=</span> pd.crosstab(data[<span class="st">'viewCount'</span>], data[<span class="st">'likeCount'</span>])</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform chi-square test</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>chi2_stat, p_value, dof, expected <span class="op">=</span> chi2_contingency(contingency_table)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"P-value: </span><span class="sc">{</span>p_value<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P-value: 0.2409455758561337</code></pre>
</div>
</div>
<p>As the result shows, we can see that the p-value is greater than 0.05, which means we fail to reject the null hypothesis that there is no significant association between viewCount and likeCount. Therefore, viewCount and likeCount have a significant association.</p>
<p><strong>Hypotheses for Independent T-test:</strong> - Null Hypothesis (H₀): There is no significant difference between the mean like count of high definition videos and standard definition videos. - Alternative Hypothesis (H₁): There is a significant difference between the mean like count of high definition videos and standard definition videos.</p>
<div id="cell-46" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>like_count_hd <span class="op">=</span> data[<span class="st">'likeCount'</span>][data[<span class="st">"definition"</span>] <span class="op">==</span> <span class="st">"hd"</span>].dropna() <span class="co"># like counts of videos in high definition</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>like_count_sd <span class="op">=</span> data[<span class="st">'commentCount'</span>][data[<span class="st">"definition"</span>] <span class="op">==</span> <span class="st">"sd"</span>].dropna()  <span class="co"># like counts of videos in standard definition</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform an independent T-test (equal variance by default)</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>t_statistic, p_value <span class="op">=</span> stats.ttest_ind(like_count_hd, like_count_sd)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the result</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"T-statistic: </span><span class="sc">{</span>t_statistic<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"P-value: </span><span class="sc">{</span>p_value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Interpreting the result</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.05</span>  <span class="co"># Common significance level</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> p_value <span class="op">&lt;</span> alpha:</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Reject the null hypothesis: There is a significant difference between the means."</span>)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Fail to reject the null hypothesis: There is no significant difference between the means."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-statistic: -4.371805625489004
P-value: 1.2909463665668727e-05
Reject the null hypothesis: There is a significant difference between the means.</code></pre>
</div>
</div>
<p>As the result shows, we can see that the p-value is less than 0.05, which means we should reject the null hypothesis, and there is significant association between the mean like count of high definition videos and standard definition videos. And audiences have preference on definition of videos.</p>
</section>
</section>
</section>
<section id="conclusions-and-next-steps" class="level1">
<h1>Conclusions and Next Steps:</h1>
<p>In this Exploratory Data Analysis (EDA), we examined various factors that contribute to YouTube audience engagement. Below is a summary of the key findings and their technical implications:</p>
<ol type="1">
<li><p><strong>Bivariate Analysis</strong>:</p>
<ul>
<li>We analyzed the distribution of captions in either popular videos or less popular videos and found that most videos had missing captions, which may suggest that captions are not consistently utilized. This could imply that captions are not a major contributor to engagement in this dataset.</li>
<li>We analyzed the distribution of video durations in either popular videos or less popular videos and found that most popular videos are short in duration. This could imply that length of duration play an important role in popularity.</li>
<li>The top 15 individual topic categories revealed a clear dominance of entertainment-related content. This suggests that viewers are more likely to engage with content in popular categories, which is an important consideration for content creators looking to maximize audience engagement.</li>
</ul></li>
<li><p><strong>Multivariate Analysis</strong>:</p>
<ul>
<li><p><strong>Correlation Matrix</strong>: A significant positive correlation between view count and like count was observed, indicating that videos with higher viewership tend to receive more likes. This relationship is intuitive, as videos that are more popular are likely to be liked by a greater proportion of viewers.</p></li>
<li><p><strong>Crosstabs for Categorical Variables</strong>: The cross-tabulation heatmap reveals that the majority of videos are in high-definition quality and do not have captions, as indicated by the higher counts in the corresponding cells. This suggests that while HD videos dominate the dataset, captioning remains less common among the videos analyzed.</p></li>
<li><p><strong>Relationship Between Video Duration and View Count</strong>: The plot shows a negative correlation between video duration and view count, with shorter videos attracting more views. This indicates a preference for quick, engaging content, reflecting the rise of short-form video platforms like TikTok and YouTube Shorts, where users often watch multiple short videos in a single sitting.</p></li>
</ul></li>
<li><p><strong>Data Distribution and Normalization</strong>:</p>
<ul>
<li><p><strong>Skewness and Kurtosis</strong>: Both view count and like count showed signs of positive skewness, indicating that most videos have relatively low views and likes, with a few videos receiving extremely high engagement. This suggests that engagement is not uniformly distributed and is heavily concentrated on a few videos.</p></li>
<li><p><strong>Statistical Tests</strong>: The chi-square test suggests that view counts and like counts have a significant association. The Independent T-test suggest that there is a significant difference between the mean of like counts of high definition videos and standard definition videos. This could guide further exploration of additional features or more refined models.</p></li>
</ul></li>
</ol>
<section id="technical-implications" class="level3">
<h3 class="anchored" data-anchor-id="technical-implications"><strong>Technical Implications</strong>:</h3>
<ul>
<li>The positive correlation between views and likes suggests that predictive models focused on view count could potentially predict like count with a certain degree of accuracy.</li>
<li>The skewness observed in the data indicates the need for normalization or transformation if these variables are to be used in predictive modeling, as they may distort the results of machine learning algorithms.</li>
<li>The lack of significant findings from some of the tests suggests that certain variables may need further refinement or exploration to better understand their impact on engagement.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>